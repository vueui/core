 /*
 * # Semantic UI
 * https://github.com/Semantic-Org/Semantic-UI
 * http://beta.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,t,i){e.site=e.fn.site=function(o){var r,s,a=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1),f=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),m=f.namespace,p=f.error,g="module-"+m,b=e(t),v=b,h=this,y=v.data(g);return r={initialize:function(){r.instantiate()},instantiate:function(){r.verbose("Storing instance of site",r),y=r,v.data(g,r)},normalize:function(){r.fix.console(),r.fix.requestAnimationFrame()},fix:{console:function(){r.debug("Normalizing window.console"),(console===i||console.log===i)&&(r.verbose("Console not available, normalizing events"),r.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(r.verbose("Console group not available, normalizing events"),n.console.group=function(){},n.console.groupEnd=function(){},n.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(r.verbose("Mark timeline not available, normalizing events"),n.console.markTimeline=function(){})},consoleClear:function(){r.debug("Disabling programmatic console clearing"),n.console.clear=function(){}},requestAnimationFrame:function(){r.debug("Normalizing requestAnimationFrame"),n.requestAnimationFrame===i&&(r.debug("RequestAnimationFrame not available, normailizing event"),n.requestAnimationFrame=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(n){return e.fn[n]!==i&&e.fn[n].settings!==i},enabled:{modules:function(n){var t=[];return n=n||f.modules,e.each(n,function(e,n){r.moduleExists(n)&&t.push(n)}),t}},disabled:{modules:function(n){var t=[];return n=n||f.modules,e.each(n,function(e,n){r.moduleExists(n)||t.push(n)}),t}},change:{setting:function(n,t,o,s){o="string"==typeof o?"all"===o?f.modules:[o]:o||f.modules,s=s!==i?s:!0,e.each(o,function(i,o){var a,l=r.moduleExists(o)?e.fn[o].settings.namespace||!1:!0;r.moduleExists(o)&&(r.verbose("Changing default setting",n,t,o),e.fn[o].settings[n]=t,s&&l&&(a=e(":data(module-"+l+")"),a.size()>0&&(r.verbose("Modifying existing settings",a),a[o]("setting",n,t))))})},settings:function(n,t,o){t="string"==typeof t?[t]:t||f.modules,o=o!==i?o:!0,e.each(t,function(t,i){var s;r.moduleExists(i)&&(r.verbose("Changing default setting",n,i),e.extend(!0,e.fn[i].settings,n),o&&m&&(s=e(":data(module-"+m+")"),s.size()>0&&(r.verbose("Modifying existing settings",s),s[i]("setting",n))))})}},enable:{console:function(){r.console(!0)},debug:function(e,n){e=e||f.modules,r.debug("Enabling debug for modules",e),r.change.setting("debug",!0,e,n)},verbose:function(e,n){e=e||f.modules,r.debug("Enabling verbose debug for modules",e),r.change.setting("verbose",!0,e,n)}},disable:{console:function(){r.console(!1)},debug:function(e,n){e=e||f.modules,r.debug("Disabling debug for modules",e),r.change.setting("debug",!1,e,n)},verbose:function(e,n){e=e||f.modules,r.debug("Disabling verbose debug for modules",e),r.change.setting("verbose",!1,e,n)}},console:function(e){if(e){if(y.cache.console===i)return void r.error(p.console);r.debug("Restoring console function"),n.console=y.cache.console}else r.debug("Disabling console function"),y.cache.console=n.console,n.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){r.verbose("Destroying previous site for",v),v.removeData(g)},cache:{},setting:function(n,t){if(e.isPlainObject(n))e.extend(!0,f,n);else{if(t===i)return f[n];f[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,r,n);else{if(t===i)return r[n];r[n]=t}},debug:function(){f.debug&&(f.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,f.name+":"),r.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,f.name+":"),r.error.apply(console,arguments)},performance:{log:function(e){var n,t,i;f.performance&&(n=(new Date).getTime(),i=a||n,t=n-i,a=n,l.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":t})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,100)},display:function(){var n=f.name+":",t=0;a=!1,clearTimeout(r.performance.timer),e.each(l,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(n,t,o){var a,l,u,c=y;return t=t||d,o=h||o,"string"==typeof n&&c!==i&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(t,o){var s=t!=a?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(c[s])&&t!=a)c=c[s];else{if(c[s]!==i)return l=c[s],!1;if(!e.isPlainObject(c[o])||t==a)return c[o]!==i?(l=c[o],!1):(r.error(p.method,n),!1);c=c[o]}})),e.isFunction(l)?u=l.apply(o,t):l!==i&&(u=l),e.isArray(s)?s.push(u):s!==i?s=[s,u]:u!==i&&(s=u),l}},c?(y===i&&r.initialize(),r.invoke(u)):(y!==i&&r.destroy(),r.initialize()),s!==i?s:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!0,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","video","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,i){return!!e.data(n,i[3])}})}(jQuery,window,document),function(e,n,t,i){e.fn.form=function(n,o){var r,s=e(this),a=e.extend(!0,{},e.fn.form.settings,o),l=e.extend({},e.fn.form.settings.defaults,n),u=a.namespace,c=a.metadata,d=a.selector,f=a.className,m=(a.error,"."+u),p="module-"+u,g=s.selector||"",b=(new Date).getTime(),v=[],h=arguments[0],y="string"==typeof h,x=[].slice.call(arguments,1);return s.each(function(){var n,o=e(this),u=e(this).find(d.field),z=e(this).find(d.group),E=e(this).find(d.message),k=(e(this).find(d.prompt),e(this).find(d.submit)),w=[],C=this,F=o.data(p);n={initialize:function(){n.verbose("Initializing form validation",o,l,a),n.bindEvents(),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),F=n,o.data(p,n)},destroy:function(){n.verbose("Destroying previous module",F),n.removeEvents(),o.removeData(p)},refresh:function(){n.verbose("Refreshing selector cache"),u=o.find(d.field)},submit:function(){n.verbose("Submitting form",o),o.submit()},attachEvents:function(t,i){i=i||"submit",e(t).on("click",function(e){n[i](),e.preventDefault()})},bindEvents:function(){a.keyboardShortcuts&&u.on("keydown"+m,n.event.field.keydown),o.on("submit"+m,n.validate.form),u.on("blur"+m,n.event.field.blur),n.attachEvents(k,"submit"),u.each(function(){var t=e(this).prop("type"),i=n.get.changeEvent(t);e(this).on(i+m,n.event.field.change)})},removeEvents:function(){o.off(m),u.off(m),k.off(m),u.off(m)},event:{field:{keydown:function(t){var i=e(this),o=t.which,r={enter:13,escape:27};o==r.escape&&(n.verbose("Escape key pressed blurring field"),i.blur()),!t.ctrlKey&&o==r.enter&&i.is(d.input)&&i.not(d.checkbox).size()>0&&(n.debug("Enter key pressed, submitting form"),k.addClass(f.down),i.one("keyup"+m,n.event.field.keyup))},keyup:function(){n.verbose("Doing keyboard shortcut form submit"),k.removeClass(f.down),n.submit()},blur:function(){var t=e(this),i=t.closest(z);i.hasClass(f.error)?(n.debug("Revalidating field",t,n.get.validation(t)),n.validate.field(n.get.validation(t))):("blur"==a.on||"change"==a.on)&&n.validate.field(n.get.validation(t))},change:function(){var t=e(this),i=t.closest(z);("change"==a.on||i.hasClass(f.error)&&a.revalidate)&&(clearTimeout(n.timer),n.timer=setTimeout(function(){n.debug("Revalidating field",t,n.get.validation(t)),n.validate.field(n.get.validation(t))},a.delay))}}},get:{changeEvent:function(e){return"checkbox"==e||"radio"==e?"change":t.createElement("input").oninput!==i?"input":t.createElement("input").onpropertychange!==i?"propertychange":"keyup"},field:function(t){return n.verbose("Finding field with identifier",t),u.filter("#"+t).size()>0?u.filter("#"+t):u.filter('[name="'+t+'"]').size()>0?u.filter('[name="'+t+'"]'):u.filter("[data-"+c.validate+'="'+t+'"]').size()>0?u.filter("[data-"+c.validate+'="'+t+'"]'):e("<input/>")},validation:function(t){var i;return e.each(l,function(e,o){n.get.field(o.identifier).get(0)==t.get(0)&&(i=o)}),i||!1}},has:{field:function(e){return n.verbose("Checking for existence of a field with identifier",e),u.filter("#"+e).size()>0?!0:u.filter('[name="'+e+'"]').size()>0?!0:u.filter("[data-"+c.validate+'="'+e+'"]').size()>0?!0:!1}},add:{prompt:function(t,r){var s=n.get.field(t),l=s.closest(z),u=l.find(d.prompt),c=0!==u.size();r="string"==typeof r?[r]:r,n.verbose("Adding field error state",t),l.addClass(f.error),a.inline&&(c||(u=a.templates.prompt(r),u.appendTo(l)),u.html(r[0]),c?n.verbose("Inline errors are disabled, no inline error added",t):a.transition&&e.fn.transition!==i&&o.transition("is supported")?(n.verbose("Displaying error with css transition",a.transition),u.transition(a.transition+" in",a.duration)):(n.verbose("Displaying error with fallback javascript animation"),u.fadeIn(a.duration)))},errors:function(e){n.debug("Adding form error messages",e),E.html(a.templates.error(e))}},remove:{prompt:function(t){var r=n.get.field(t.identifier),s=r.closest(z),l=s.find(d.prompt);s.removeClass(f.error),a.inline&&l.is(":visible")&&(n.verbose("Removing prompt for field",t),a.transition&&e.fn.transition!==i&&o.transition("is supported")?l.transition(a.transition+" out",a.duration,function(){l.remove()}):l.fadeOut(a.duration,function(){l.remove()}))}},set:{success:function(){o.removeClass(f.error).addClass(f.success)},error:function(){o.removeClass(f.success).addClass(f.error)}},validate:{form:function(t){var r=!0;return w=[],e.each(l,function(e,t){n.validate.field(t)||(r=!1)}),r?(n.debug("Form has no validation errors, submitting"),n.set.success(),e.proxy(a.onSuccess,this)(t)):(n.debug("Form has errors"),n.set.error(),a.inline||n.add.errors(w),o.data("moduleApi")!==i&&t.stopImmediatePropagation(),e.proxy(a.onFailure,this)(w))},field:function(t){var o=n.get.field(t.identifier),r=!0,s=[];return t.rules!==i&&e.each(t.rules,function(e,i){n.has.field(t.identifier)&&!n.validate.rule(t,i)&&(n.debug("Field is invalid",t.identifier,i.type),s.push(i.prompt),r=!1)}),r?(n.remove.prompt(t,s),e.proxy(a.onValid,o)(),!0):(w=w.concat(s),n.add.prompt(t.identifier,s),e.proxy(a.onInvalid,o)(s),!1)},rule:function(t,r){var s,l,u=n.get.field(t.identifier),c=r.type,d=e.trim(u.val()+""),f=/\[(.*)\]/i,m=f.exec(c),p=!0;return m!==i&&null!==m?(s=""+m[1],l=c.replace(m[0],""),p=e.proxy(a.rules[l],o)(d,s)):p=e.proxy(a.rules[c],u)(d),p}},setting:function(n,t){if(e.isPlainObject(n))e.extend(!0,a,n);else{if(t===i)return a[n];a[n]=t}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){a.debug&&(a.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,a.name+":"),n.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,a.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;a.performance&&(t=(new Date).getTime(),o=b||t,i=t-o,b=t,v.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=a.name+":",o=0;b=!1,clearTimeout(n.performance.timer),e.each(v,function(e,n){o+=n["Execution Time"]}),t+=" "+o+"ms",g&&(t+=" '"+g+"'"),s.size()>1&&(t+=" ("+s.size()+")"),(console.group!==i||console.table!==i)&&v.length>0&&(console.groupCollapsed(t),console.table?console.table(v):e.each(v,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(n,t,o){var s,a,l,u=F;return t=t||x,o=C||o,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(t,o){var r=t!=s?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[r])&&t!=s)u=u[r];else{if(u[r]!==i)return a=u[r],!1;if(!e.isPlainObject(u[o])||t==s)return u[o]!==i?(a=u[o],!1):!1;u=u[o]}})),e.isFunction(a)?l=a.apply(o,t):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},y?(F===i&&n.initialize(),n.invoke(h)):(F!==i&&n.destroy(),n.initialize())}),r!==i?r:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:150,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{validate:"validate"},selector:{message:".error.message",field:"input, textarea, select",group:".field",checkbox:'input[type="checkbox"], input[type="radio"]',input:"input",prompt:".prompt",submit:".submit"},className:{error:"error",success:"success",down:"down",label:"ui label prompt"},error:{method:"The method you called is not defined."},templates:{error:function(n){var t='<ul class="list">';return e.each(n,function(e,n){t+="<li>"+n+"</li>"}),t+="</ul>",e(t)},prompt:function(n){return e("<div/>").addClass("ui red pointing prompt label").html(n[0])}},rules:{checked:function(){return e(this).filter(":checked").size()>0},empty:function(e){return!(e===i||""===e)},email:function(e){var n=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return n.test(e)},length:function(e,n){return e!==i?e.length>=n:!1},not:function(e,n){return e!=n},contains:function(e,n){return n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(n)},is:function(e,n){return e==n},maxLength:function(e,n){return e!==i?e.length<=n:!1},match:function(n,t){var o,r=e(this);return r.find("#"+t).size()>0?o=r.find("#"+t).val():r.find("[name="+t+"]").size()>0?o=r.find("[name="+t+"]").val():r.find('[data-validate="'+t+'"]').size()>0&&(o=r.find('[data-validate="'+t+'"]').val()),o!==i?n.toString()==o.toString():!1},url:function(e){var n=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return n.test(e)},integer:function(e,n){var t,o,r,s=/^\-?\d+$/;return n===i||""===n||".."===n||(-1==n.indexOf("..")?s.test(n)&&(t=o=n-0):(r=n.split("..",2),s.test(r[0])&&(t=r[0]-0),s.test(r[1])&&(o=r[1]-0))),s.test(e)&&(t===i||e>=t)&&(o===i||o>=e)}}}}(jQuery,window,document);